!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o=(n(1),n(2)),r=n(3);r.load(function(e){var t=o("POST","/tips/new");t.setValidate("title",/^\s*$/),t.setValidate("editor",function(e){var t=document.createElement("div");return t.innerHTML=e.getData(),!/^\s*$/.test(t.textContent)}),t.onSuccess=function(){setTimeout(function(){window.location.pathname="/tips"},1e3)}})},function(e,t,n){e.exports=CKEDITOR},function(e,t,n){{var o=document.getElementById("tipform"),r=o.querySelector("button"),i=document.querySelector(".attlist"),a=document.getElementById("new_tip_errmsg"),l=document.querySelector(".backdrop"),c=n(5),s=n(4)("content");n(6)}c.onAppendFile=function(e){[].forEach.call(e,function(e,t){var n=document.createElement("div");n.className="att";var o=document.createElement("span");o.className="content",o.textContent=e.name,n.appendChild(o);var r=document.createElement("span");r.className="glyphicon glyphicon-remove",r.onclick=function(){n.remove(),c.files.splice(c.files.indexOf(e),1)},n.appendChild(r),i.appendChild(n)})},e.exports=function(e,t){var n={},i={editor:s},u={onSubmit:null,beforeSubmit:function(){return!0},onSuccess:null,onError:null,setValidate:function(e,t){if("RegExp"===t.constructor.name){var o=t;t=function(e){return!o.test(e.value)}}n[e]=t},setErrorMessage:function(e){a.textContent=e}};return r.addEventListener("click",function(e){e.preventDefault();var t=[];for(var r in n)if(n.hasOwnProperty(r)){var d=document.getElementsByName(r)[0]||document.getElementById(r)||i[r];d&&!n[r].call(null,d)&&t.push(r)}if(t.length>0)return void(a.textContent="Required fields should be filled: "+t.join(", "));l.style.display="block";var p=new FormData(o);p.append("content",s.getData()),[].forEach.call(c.files,function(e,t){p.append("file"+t,e)});var f=new XMLHttpRequest;f.open("POST","/tips/new"),f.onload=function(){u.onSuccess.call()},f.onerror=function(){l.style.display="none";try{var e=JSON.parse(f.response);a.textContent=e.message}catch(t){a.textContent="Unkown error."}},f.timeout=5e3,f.send(p)}),u}},function(e,t,n){e.exports={load:function(e){document.addEventListener("DOMContentLoaded",e)},ajax:function(e,t,n,o){var r=new XMLHttpRequest;return r.open(e,t),r.onload=n,r.onerror=o,r.timeout=5e3,{send:function(e){r.send(e)}}}}},function(e,t,n){var o=n(1);e.exports=function(e){return o.replace(e),o.instances[e]}},function(e,t,n){var o=e.exports={files:[],onAppendFile:null},r=document.getElementById("uploader"),i=document.querySelector(".dropbox .inner-box"),a=document.querySelector(".file-select .cross");i.addEventListener("dragover",function(e){e.preventDefault()});var l=0;i.addEventListener("dragenter",function(e){l++,i.classList.add("active")}),i.addEventListener("dragleave",function(e){l--,l||i.classList.remove("active")}),i.addEventListener("drop",function(e){e.preventDefault(),l=0,i.classList.remove("active");var t=e.dataTransfer;t.files&&t.files.length>0&&([].push.apply(o.files,t.files),o.onAppendFile&&o.onAppendFile.call(null,t.files))}),a.addEventListener("click",function(){r.click()}),r.addEventListener("change",function(e){[].push.apply(o.files,r.files),o.onAppendFile&&o.onAppendFile.call(null,r.files)})},function(e,t,n){var o=function(e,t){this.field=e,this.message=t};o.prototype=Error.prototype,e.exports=o}]);